{% extends 'base_registration.html' %}

{% block content %}
    <div class="my-auto mx-auto xl:ml-20 bg-white dark:bg-darkmode-600 xl:bg-transparent px-5 sm:px-8 py-8 xl:p-0 rounded-md shadow-md xl:shadow-none w-full sm:w-3/4 lg:w-2/4 xl:w-auto">
        <h3 class="intro-x font-bold text-2xl xl:text-3xl text-center xl:text-left">
            Cadastrar-se
        </h3>
        <div class="intro-x mt-8 myScrollbar">
            <!-- BEGIN: Alerts -->
            {% if messages %}
                {% for message in messages %}
                    {% if message.tags == 'alert-danger' %}
                        <div id="alert" class="alert alert-danger alert-dismissible show flex items-center mb-2" role="alert"><i
                                data-lucide="alert-octagon" class="w-6 h-6 mr-2"></i>
                            {{ message }}
                            <button type="button" class="btn-close text-white" data-tw-dismiss="alert"
                                    aria-label="Close"><i
                                    data-lucide="x" class="w-4 h-4"></i></button>
                        </div>
                    {% endif %}

                    {% if message.tags == 'alert-success' %}
                        <div id="alert" class="alert alert-success alert-dismissible show flex items-center mb-2 text-white"
                             role="alert"><i
                                data-lucide="alert-triangle" class="w-6 h-6 mr-2"></i>
                            {{ message }}
                            <button type="button" class="btn-close" data-tw-dismiss="alert" aria-label="Close"><i
                                    data-lucide="x" class="w-4 h-4"></i></button>
                        </div>

                    {% endif %}

                    {% if message.tags == 'alert-warning' %}
                        <div id="alert" class="alert alert-warning alert-dismissible show flex items-center mb-2" role="alert"><i
                                data-lucide="alert-circle" class="w-6 h-6 mr-2"></i>
                            {{ message }}

                            <button type="button" class="btn-close" data-tw-dismiss="alert" aria-label="Close"><i
                                    data-lucide="x" class="w-4 h-4"></i></button>
                        </div>
                    {% endif %}

                {% endfor %}
            {% endif %}
            <!-- END: Alerts -->
            <div id="app">
                <form ref="form" id="login-form" method="post">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="fieldWrapper">
                            {{ field.label_tag }} {{ field }}
                            {% if field.help_text %}
                                <p class="help">{{ field.help_text|safe }}</p>
                            {% endif %}
                            {% if field.errors %}
                            <strong class="text-danger">* {{ field.errors }}</strong>
                            {% endif %}
                        </div>
                        <br>
                    {% endfor %}
                    <div style="text-align: center">
                        <div class="btn-group">
                            <button v-if="!clicked" v-on:click="userClicked"
                                    class="btn btn-primary py-3 px-4 w-full xl:w-34 xl:mr-3 align-top" type="submit">
                                Cadastrar
                            </button>
                            <button v-if="clicked" v-on:click="userClicked"
                                    class="btn btn-primary py-3 px-4 w-full xl:w-34 xl:mr-3 align-top">
                                <svg width="25" viewBox="-2 -2 42 42" xmlns="http://www.w3.org/2000/svg" stroke="white"
                                     class="w-4 h-4 ml-2">
                                    <g fill="none" fill-rule="evenodd">
                                        <g transform="translate(1 1)" stroke-width="4">
                                            <circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle>
                                            <path d="M36 18c0-9.94-8.06-18-18-18">
                                                <animateTransform attributeName="transform" type="rotate" from="0 18 18"
                                                                  to="360 18 18" dur="1s"
                                                                  repeatCount="indefinite"></animateTransform>
                                            </path>
                                        </g>
                                    </g>
                                </svg>
                                &nbsp; Aguarde...
                            </button>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </div>

{% endblock %}
            